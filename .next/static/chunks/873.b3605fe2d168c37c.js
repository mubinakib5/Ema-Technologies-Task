(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[873],{9873:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return ExpenseForm}});var n=t(7437),i=t(2265),a=t(3198),l=t(5348),r=t(2071),o=t.n(r);function ExpenseForm(){let[e,s]=(0,i.useState)(""),[t,r]=(0,i.useState)("Groceries"),[u,c]=(0,i.useState)(""),[d,p]=(0,i.useState)("idle"),[m,x]=(0,i.useState)(null),h=(0,a.I0)(),_=(0,a.v9)(e=>e.limits.categories),handleSubmit=async n=>{if(n.preventDefault(),!e||!u){x("Please fill in all fields");return}p("submitting"),x(null);try{let n=_[t];if(parseFloat(e)>n){x("This expense exceeds your set limit of $".concat(n," for ").concat(t)),p("idle");return}console.log("Submitting expense:",{amount:e,category:t,description:u});let i=await h((0,l.ai)({amount:parseFloat(e),category:t,description:u})).unwrap();console.log("Expense added successfully:",i),s(""),c(""),p("success"),setTimeout(()=>p("idle"),3e3)}catch(e){console.error("Failed to add expense:",e),x(e.message||"Failed to add expense"),p("idle")}};return(0,n.jsxs)("div",{className:o().expenseForm,children:[m&&(0,n.jsx)("div",{className:o().error,children:m}),"success"===d&&(0,n.jsx)("div",{className:o().success,children:"Expense added successfully!"}),(0,n.jsxs)("form",{onSubmit:handleSubmit,children:[(0,n.jsx)("input",{type:"number",placeholder:"Amount",value:e,onChange:e=>s(e.target.value),className:o().amountInput,step:"0.01",min:"0",disabled:"submitting"===d}),(0,n.jsxs)("select",{value:t,onChange:e=>r(e.target.value),className:o().categorySelect,disabled:"submitting"===d,children:[(0,n.jsx)("option",{value:"Groceries",children:"Groceries"}),(0,n.jsx)("option",{value:"Transport",children:"Transport"}),(0,n.jsx)("option",{value:"HealthCare",children:"HealthCare"}),(0,n.jsx)("option",{value:"Utility",children:"Utility"}),(0,n.jsx)("option",{value:"Charity",children:"Charity"})]}),(0,n.jsx)("input",{type:"text",placeholder:"Description",value:u,onChange:e=>c(e.target.value),className:o().descriptionInput,disabled:"submitting"===d}),(0,n.jsx)("button",{type:"submit",className:o().submitButton,disabled:"submitting"===d,children:"submitting"===d?"Adding...":"Add Expense"})]})]})}},2071:function(e){e.exports={expenseForm:"ExpenseForm_expenseForm__HXJp1",amountInput:"ExpenseForm_amountInput__NU1tl",categorySelect:"ExpenseForm_categorySelect__jcb3q",descriptionInput:"ExpenseForm_descriptionInput__cVMss",submitButton:"ExpenseForm_submitButton__8VRMs",error:"ExpenseForm_error__u3HQk",success:"ExpenseForm_success__1WXDn"}}}]);