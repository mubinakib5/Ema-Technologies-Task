(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8738:function(e,t,n){Promise.resolve().then(n.bind(n,6946))},8811:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return dynamic}});let a=n(1024);n(2265);let r=a._(n(7075));function convertModule(e){return{default:(null==e?void 0:e.default)||e}}function dynamic(e,t){let n=r.default,a={loading:e=>{let{error:t,isLoading:n,pastDelay:a}=e;return null}};"function"==typeof e&&(a.loader=e),Object.assign(a,t);let s=a.loader;return n({...a,loader:()=>null!=s?s().then(convertModule):Promise.resolve(convertModule(()=>null))})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9167:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{suspense:function(){return suspense},NoSSR:function(){return NoSSR}});let a=n(1283);function suspense(){let e=Error(a.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=a.NEXT_DYNAMIC_NO_SSR_CODE,e}function NoSSR(e){let{children:t}=e;return t}},7075:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return _default}});let a=n(1024),r=a._(n(2265)),s=n(9167),_default=function(e){let t=Object.assign({loader:null,loading:null,ssr:!0},e);function LoadableComponent(e){let n=t.loading,a=r.default.createElement(n,{isLoading:!0,pastDelay:!0,error:null}),i=t.ssr?r.default.Fragment:s.NoSSR,l=t.lazy;return r.default.createElement(r.default.Suspense,{fallback:a},r.default.createElement(i,null,r.default.createElement(l,e)))}return t.lazy=r.default.lazy(t.loader),LoadableComponent.displayName="LoadableComponent",LoadableComponent}},6946:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Home}});var a=n(7437),r=n(2265);let ErrorBoundary=class ErrorBoundary extends r.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?(0,a.jsxs)("div",{style:{padding:"20px",margin:"20px",backgroundColor:"#fff3f3",borderRadius:"8px"},children:[(0,a.jsx)("h2",{children:"Something went wrong"}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),style:{padding:"8px 16px",backgroundColor:"#333",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginTop:"10px"},children:"Reload Page"})]}):this.props.children}constructor(e){super(e),this.state={hasError:!1,error:null}}};var s=n(3198),i=n(8811),l=n.n(i),o=n(8700),d=n(5334),u=n.n(d);function LimitSetter(){let[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)("Groceries"),l=(0,s.I0)();return(0,a.jsxs)("div",{className:u().limitSetter,children:[(0,a.jsx)("h2",{children:"SET YOUR LIMIT"}),(0,a.jsxs)("form",{onSubmit:a=>{a.preventDefault(),e&&(l((0,o.Np)({category:n,amount:parseFloat(e)})),t(""))},children:[(0,a.jsx)("input",{type:"number",placeholder:"Insert an amount",value:e,onChange:e=>t(e.target.value),className:u().amountInput}),(0,a.jsxs)("select",{value:n,onChange:e=>i(e.target.value),className:u().categorySelect,children:[(0,a.jsx)("option",{value:"Groceries",children:"Groceries"}),(0,a.jsx)("option",{value:"Transport",children:"Transport"}),(0,a.jsx)("option",{value:"HealthCare",children:"HealthCare"}),(0,a.jsx)("option",{value:"Utility",children:"Utility"}),(0,a.jsx)("option",{value:"Charity",children:"Charity"})]}),(0,a.jsx)("button",{type:"submit",className:u().submitButton,children:"Set Limit"})]})]})}var c=n(5348);let f=l()(()=>n.e(873).then(n.bind(n,9873)),{loadableGenerated:{webpack:()=>[9873]},loading:()=>(0,a.jsx)("div",{children:"Loading form..."})}),p=l()(()=>n.e(715).then(n.bind(n,1715)),{loadableGenerated:{webpack:()=>[1715]},loading:()=>(0,a.jsx)("div",{children:"Loading summary..."})}),m=l()(()=>n.e(991).then(n.bind(n,6991)),{loadableGenerated:{webpack:()=>[6991]},loading:()=>(0,a.jsx)("div",{children:"Loading table..."})});function ExpenseTracker(){let[e,t]=(0,r.useState)("add"),n=(0,s.I0)();return(0,r.useEffect)(()=>{n((0,o.ho)()),n((0,c.q0)())},[n]),(0,a.jsxs)("div",{className:"expense-tracker",children:[(0,a.jsxs)("nav",{className:"tabs",children:[(0,a.jsx)("button",{className:"tab ".concat("add"===e?"active":""),onClick:()=>t("add"),children:"Add Expense"}),(0,a.jsx)("button",{className:"tab ".concat("summary"===e?"active":""),onClick:()=>t("summary"),children:"Summary"})]}),(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading limit setter..."}),children:(0,a.jsx)(LimitSetter,{})}),"add"===e?(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading form..."}),children:(0,a.jsx)(f,{})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading summary..."}),children:(0,a.jsx)(p,{})}),(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading table..."}),children:(0,a.jsx)(m,{})})]})]})}function Home(){let[e,t]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{t(!0)},[]),e)?(0,a.jsx)(ErrorBoundary,{children:(0,a.jsx)("main",{className:"container",children:(0,a.jsx)(ExpenseTracker,{})})}):(0,a.jsx)("div",{className:"container",children:"Loading..."})}},5348:function(e,t,n){"use strict";n.d(t,{ai:function(){return s},q0:function(){return r}});var a=n(64);let r=(0,a.hg)("expenses/fetchExpenses",async()=>{let e=await fetch("/api/expenses");if(!e.ok){let t=await e.json();throw Error(t.message||"Failed to fetch expenses")}return e.json()}),s=(0,a.hg)("expenses/addExpense",async e=>{let t=await fetch("/api/expenses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json();throw Error(e.message||"Failed to add expense")}return t.json()}),i=(0,a.oM)({name:"expenses",initialState:{items:[],status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(r.pending,e=>{e.status="loading"}).addCase(r.fulfilled,(e,t)=>{e.status="succeeded",e.items=t.payload}).addCase(r.rejected,(e,t)=>{e.status="failed",e.error=t.error.message}).addCase(s.fulfilled,(e,t)=>{e.items.unshift(t.payload)})}});t.ZP=i.reducer},8700:function(e,t,n){"use strict";n.d(t,{Np:function(){return s},ho:function(){return r}});var a=n(64);let r=(0,a.hg)("limits/fetchLimits",async()=>{let e=await fetch("/api/limits");if(!e.ok){let t=await e.json();throw Error(t.message||"Failed to fetch limits")}return e.json()}),s=(0,a.hg)("limits/setLimit",async e=>{let{category:t,amount:n}=e,a=await fetch("/api/limits",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:t,amount:n})});if(!a.ok){let e=await a.json();throw Error(e.message||"Failed to set limit")}return a.json()}),i=(0,a.oM)({name:"limits",initialState:{categories:{Groceries:0,Transport:0,HealthCare:0,Utility:0,Charity:0},status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(r.pending,e=>{e.status="loading"}).addCase(r.fulfilled,(e,t)=>{e.status="succeeded",t.payload.forEach(t=>{e.categories[t.category]=t.amount})}).addCase(r.rejected,(e,t)=>{e.status="failed",e.error=t.error.message}).addCase(s.fulfilled,(e,t)=>{e.categories[t.payload.category]=t.payload.amount})}});t.ZP=i.reducer},5334:function(e){e.exports={limitSetter:"LimitSetter_limitSetter__5g5M7",amountInput:"LimitSetter_amountInput__qSfON",categorySelect:"LimitSetter_categorySelect__JrnKK",submitButton:"LimitSetter_submitButton__OIbxk"}}},function(e){e.O(0,[713,971,472,744],function(){return e(e.s=8738)}),_N_E=e.O()}]);